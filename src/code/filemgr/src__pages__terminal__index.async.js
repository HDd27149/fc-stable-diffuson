"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[491],{68996:function(M,f,n){n.d(f,{r:function(){return g}});var x=n(97857),m=n.n(x),d=n(86074);function g(c){var a=c.disabled,p=c.children,j=c.message;return(0,d.jsxs)("div",{style:m()({position:"relative"},a?{cursor:"not-allowed",display:"block",maxHeight:"100vh",overflow:"hidden"}:{}),children:[a&&(0,d.jsx)("div",{style:{position:"absolute",fontWeight:"bold",zIndex:1,transform:"translate(0, -50%)",top:"50%",left:0,right:0,textAlign:"center"},children:j||"\u60A8\u672A\u6302\u8F7D NAS\uFF0C\u65E0\u6CD5\u5F00\u542F\u6587\u4EF6\u7BA1\u7406\u529F\u80FD\u3002"}),(0,d.jsx)("div",{style:a?{pointerEvents:"none",filter:"opacity(0.5) grayscale(1)"}:{},children:p})]})}},78364:function(M,f,n){n.r(f),n.d(f,{default:function(){return I}});var x=n(15009),m=n.n(x),d=n(99289),g=n.n(d),c=n(77348),a=n(62435),p=n(88830),j={"xterm-wrapper":"xterm-wrapper___flXbs"},R=n(12617),A=n(83204);function D(){var s=a.useMemo(function(){return new R.FitAddon},[]);return A.Z("resize",function(){try{s==null||s.fit()}catch(o){console.error(o)}}),s}var v=n(66898),O=n(42075),S=n(71577),F=n(89629),P=n(68996),l=n(86074);function W(){var s=a.useRef(null),o=a.useCallback(function(r){var e,t=(e=s.current)===null||e===void 0?void 0:e.terminal;t&&t.write(r)},[s]),E=D(),b=c.Z("".concat(location.protocol.replace("http","ws"),"//").concat(location.host,"/api/terminal"),{onOpen:function(e,t){o(`\r
`),o(`\x1B[1;31m\u8BE5\u9875\u9762\u53EF\u80FD\u4F1A\u5BFC\u81F4\u60A8\u7684\u5E94\u7528\u6545\u969C\u3001NAS \u6587\u4EF6\u635F\u574F\uFF0C\u8BF7\u786E\u4FDD\u60A8\u5DF2\u77E5\u6653\u81EA\u5DF1\u547D\u4EE4\u7684\u540E\u679C\uFF0C\u9020\u6210\u7684\u635F\u5931\u9700\u8981\u60A8\u81EA\u884C\u627F\u62C5\x1B[0m\r
`),o(`\r
`),o(`\x1B[1;33m\u8BE5\u9875\u9762\u4F1A\u4FDD\u6301\u6301\u7EED\u8FDE\u63A5\uFF0C\u8FD9\u4F1A\u5BFC\u81F4\u6301\u7EED\u8BA1\u8D39\uFF0C\u8BF7\u52FF\u957F\u671F\u505C\u7559\u5728\u8BE5\u9875\u9762\x1B[0m \r
`),o(`\r
`),o(`\r
`)},onClose:function(e,t){},onMessage:function(){var r=g()(m()().mark(function t(y,L){var i;return m()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,y.data;case 2:i=u.sent,console.log({msg:i,t:i[0]}),(i[0]===""||i[0]==="")&&o(i.slice(1));case 5:case"end":return u.stop()}},t)}));function e(t,y){return r.apply(this,arguments)}return e}(),onError:function(e,t){console.error(e,t)},reconnectLimit:0}),C=b.sendMessage,T=b.connect,h=b.readyState;return(0,l.jsx)("div",{className:"full-width",children:(0,l.jsx)(P.r,{disabled:h!==v.kQ.Open,message:(0,l.jsxs)(O.Z,{direction:"vertical",children:[(0,l.jsx)("span",{style:{color:"white"},children:h===v.kQ.Closed?"\u94FE\u63A5\u5DF2\u5173\u95ED":h===v.kQ.Closing?"\u6B63\u5728\u5173\u95ED\u8FDE\u63A5":h===v.kQ.Connecting?"\u8FDE\u63A5\u4E2D":""}),(0,l.jsx)(S.ZP,{onClick:T,children:"\u91CD\u65B0\u8FDE\u63A5"})]}),children:(0,l.jsx)(p.O,{ref:s,className:j["xterm-wrapper"],options:{convertEol:!0},addons:[E],onResize:function(){E.fit()},onRender:function(){E.fit()},onData:function(e){console.log({data:e,c:e.split("").map(function(t){return t.charCodeAt(0)})}),C==null||C("".concat(e))}})})})}function I(){return(0,l.jsx)(W,{})}}}]);
